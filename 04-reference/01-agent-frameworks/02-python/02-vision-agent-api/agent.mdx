---
title: Agent
---

<a id="askui.agent"></a>

# askui.agent

<a id="askui.agent.VisionAgent"></a>

## askui.agent.VisionAgent

```python
class VisionAgent(AgentBase)
```

A vision-based agent that can interact with user interfaces through computer vision and AI.

This agent can perform various UI interactions like clicking, typing, scrolling, and more.
It uses computer vision models to locate UI elements and execute actions on them.

**Arguments**:

- `display` _int, optional_ - The display number to use for screen interactions. Defaults to `1`.
- `reporters` _list[Reporter] | None, optional_ - List of reporter instances for logging and reporting. If `None`, an empty list is used.
- `tools` _AgentToolbox | None, optional_ - Custom toolbox instance. If `None`, a default one will be created with `AskUiControllerClient`.
- `model` _ModelChoice | ModelComposition | str | None, optional_ - The default choice or name of the model(s) to be used for vision tasks. Can be overridden by the `model` parameter in the `click()`, `get()`, `act()` etc. methods.
- `retry` _Retry, optional_ - The retry instance to use for retrying failed actions. Defaults to `ConfigurableRetry` with exponential backoff. Currently only supported for `locate()` method.
- `models` _ModelRegistry | None, optional_ - A registry of models to make available to the `VisionAgent` so that they can be selected using the `model` parameter of `VisionAgent` or the `model` parameter of its `click()`, `get()`, `act()` etc. methods. Entries in the registry override entries in the default model registry.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.click("Submit button")
        agent.type("Hello World")
        agent.act("Open settings menu")
    ```

<a id="askui.agent.VisionAgent.click"></a>

#### click

```python
def click(
    locator: Optional[str | Locator | Point] = None,
    button: Literal["left", "middle", "right"] = "left",
    repeat: Annotated[int, Field(gt=0)] = 1,
    offset: Optional[Point] = None,
    model: ModelComposition | str | None = None
) -> None
```

Simulates a mouse click on the user interface element identified by the provided locator.

**Arguments**:

- `locator` _str | Locator | Point | None, optional_ - UI element description, structured locator, or absolute coordinates (x, y). If `None`, clicks at current position.
- `button` _'left' | 'middle' | 'right', optional_ - Specifies which mouse button to click. Defaults to `'left'`.
- `repeat` _int, optional_ - The number of times to click. Must be greater than `0`. Defaults to `1`.
- `offset` _Point | None, optional_ - Pixel offset (x, y) from the target location. Positive x=right, negative x=left, positive y=down, negative y=up.
- `model` _ModelComposition | str | None, optional_ - The composition or name of the model(s) to be used for locating the element to click on using the `locator`.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.click()              # Left click on current position
        agent.click("Edit")        # Left click on text "Edit"
        agent.click((100, 200))    # Left click at absolute coordinates (100, 200)
        agent.click("Edit", button="right")  # Right click on text "Edit"
        agent.click(repeat=2)      # Double left click on current position
        agent.click("Edit", button="middle", repeat=4)   # 4x middle click on text "Edit"
        agent.click("Submit", offset=(10, -5))  # Click 10 pixels right and 5 pixels up from "Submit"
    ```

<a id="askui.agent.VisionAgent.mouse_move"></a>

#### mouse\_move

```python
def mouse_move(
    locator: str | Locator | Point,
    offset: Optional[Point] = None,
    model: ModelComposition | str | None = None
) -> None
```

Moves the mouse cursor to the UI element identified by the provided locator.

**Arguments**:

- `locator` _str | Locator | Point_ - UI element description, structured locator, or absolute coordinates (x, y).
- `offset` _Point | None, optional_ - Pixel offset (x, y) from the target location. Positive x=right, negative x=left, positive y=down, negative y=up.
- `model` _ModelComposition | str | None, optional_ - The composition or name of the model(s) to be used for locating the element to move the mouse to using the `locator`.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.mouse_move("Submit button")  # Moves cursor to submit button
        agent.mouse_move((300, 150))       # Moves cursor to absolute coordinates (300, 150)
        agent.mouse_move("Close")          # Moves cursor to close element
        agent.mouse_move("Profile picture", model="custom_model")  # Uses specific model
        agent.mouse_move("Menu", offset=(5, 10))  # Move 5 pixels right and 10 pixels down from "Menu"
    ```

<a id="askui.agent.VisionAgent.mouse_scroll"></a>

#### mouse\_scroll

```python
def mouse_scroll(x: int, y: int) -> None
```

Simulates scrolling the mouse wheel by the specified horizontal and vertical amounts.

**Arguments**:

- `x` _int_ - The horizontal scroll amount. Positive values typically scroll right, negative values scroll left.
- `y` _int_ - The vertical scroll amount. Positive values typically scroll down, negative values scroll up.
  

**Notes**:

  The actual scroll direction depends on the operating system's configuration.
  Some systems may have "natural scrolling" enabled, which reverses the traditional direction.
  
  The meaning of scroll units varies across operating systems and applications.
  A scroll value of `10` might result in different distances depending on the application and system settings.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.mouse_scroll(0, 10)  # Usually scrolls down 10 units
        agent.mouse_scroll(0, -5)  # Usually scrolls up 5 units
        agent.mouse_scroll(3, 0)   # Usually scrolls right 3 units
    ```

<a id="askui.agent.VisionAgent.type"></a>

#### type

```python
def type(
    text: Annotated[str, Field(min_length=1)],
    locator: str | Locator | Point | None = None,
    offset: Optional[Point] = None,
    model: ModelComposition | str | None = None,
    clear: bool = True
) -> None
```

Types the specified text as if it were entered on a keyboard.

If `locator` is provided, it will first click on the element to give it focus before typing.
If `clear` is `True` (default), it will triple click on the element to select the current text (in multi-line inputs like textareas the current line or paragraph) before typing.

**IMPORTANT:** `clear` only works if a `locator` is provided.

**Arguments**:

- `text` _str_ - The text to be typed. Must be at least `1` character long.
- `locator` _str | Locator | Point | None, optional_ - UI element description, structured locator, or absolute coordinates (x, y). If `None`, types at current focus.
- `offset` _Point | None, optional_ - Pixel offset (x, y) from the target location. Positive x=right, negative x=left, positive y=down, negative y=up.
- `model` _ModelComposition | str | None, optional_ - The composition or name of the model(s) to be used for locating the element, i.e., input field, to type into using the `locator`.
- `clear` _bool, optional_ - Whether to triple click on the element to give it focus and select the current text before typing. Defaults to `True`.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.type("Hello, world!")  # Types "Hello, world!" at current focus
        agent.type("user@example.com", locator="Email")  # Clicks on "Email" input, then types
        agent.type("username", locator=(200, 100))  # Clicks at coordinates (200, 100), then types
        agent.type("password123", locator="Password field", model="custom_model")  # Uses specific model
        agent.type("Hello, world!", locator="Textarea", clear=False)  # Types "Hello, world!" into textarea without clearing
        agent.type("text", locator="Input field", offset=(5, 0))  # Click 5 pixels right of "Input field", then type
    ```

<a id="askui.agent.VisionAgent.key_up"></a>

#### key\_up

```python
def key_up(key: PcKey | ModifierKey) -> None
```

Simulates the release of a key.

**Arguments**:

- `key` _PcKey | ModifierKey_ - The key to be released.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.key_up('a')  # Release the 'a' key
        agent.key_up('shift')  # Release the 'Shift' key
    ```

<a id="askui.agent.VisionAgent.key_down"></a>

#### key\_down

```python
def key_down(key: PcKey | ModifierKey) -> None
```

Simulates the pressing of a key.

**Arguments**:

- `key` _PcKey | ModifierKey_ - The key to be pressed.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.key_down('a')  # Press the 'a' key
        agent.key_down('shift')  # Press the 'Shift' key
    ```

<a id="askui.agent.VisionAgent.mouse_up"></a>

#### mouse\_up

```python
def mouse_up(button: Literal["left", "middle", "right"] = "left") -> None
```

Simulates the release of a mouse button.

**Arguments**:

- `button` _'left' | 'middle' | 'right', optional_ - The mouse button to be released. Defaults to `'left'`.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.mouse_up()  # Release the left mouse button
        agent.mouse_up('right')  # Release the right mouse button
        agent.mouse_up('middle')  # Release the middle mouse button
    ```

<a id="askui.agent.VisionAgent.mouse_down"></a>

#### mouse\_down

```python
def mouse_down(button: Literal["left", "middle", "right"] = "left") -> None
```

Simulates the pressing of a mouse button.

**Arguments**:

- `button` _'left' | 'middle' | 'right', optional_ - The mouse button to be pressed. Defaults to `'left'`.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.mouse_down()  # Press the left mouse button
        agent.mouse_down('right')  # Press the right mouse button
        agent.mouse_down('middle')  # Press the middle mouse button
    ```

<a id="askui.agent.VisionAgent.keyboard"></a>

#### keyboard

```python
def keyboard(
    key: PcKey | ModifierKey,
    modifier_keys: Optional[list[ModifierKey]] = None,
    repeat: Annotated[int, Field(gt=0)] = 1
) -> None
```

Simulates pressing (and releasing) a key or key combination on the keyboard.

**Arguments**:

- `key` _PcKey | ModifierKey_ - The main key to press. This can be a letter, number, special character, or function key.
- `modifier_keys` _list[ModifierKey] | None, optional_ - List of modifier keys to press along with the main key. Common modifier keys include `'ctrl'`, `'alt'`, `'shift'`.
- `repeat` _int, optional_ - The number of times to press (and release) the key. Must be greater than `0`. Defaults to `1`.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        agent.keyboard('a')  # Press 'a' key
        agent.keyboard('enter')  # Press 'Enter' key
        agent.keyboard('v', ['control'])  # Press Ctrl+V (paste)
        agent.keyboard('s', ['control', 'shift'])  # Press Ctrl+Shift+S
        agent.keyboard('a', repeat=2)  # Press 'a' key twice
    ```

<a id="askui.agent.VisionAgent.cli"></a>

#### cli

```python
def cli(command: Annotated[str, Field(min_length=1)]) -> None
```

Executes a command on the command line interface.

This method allows running shell commands directly from the agent. The command
is split on spaces and executed as a subprocess.

**Arguments**:

- `command` _str_ - The command to execute on the command line.
  

**Example**:

    ```python
    from askui import VisionAgent

    with VisionAgent() as agent:
        # Use for Windows
        agent.cli(fr'start "" "C:\Program Files\VideoLAN\VLClc.exe"') # Start in VLC non-blocking
        agent.cli(fr'"C:\Program Files\VideoLAN\VLClc.exe"') # Start in VLC blocking

        # Mac
        agent.cli("open -a chrome")  # Open Chrome non-blocking for mac
        agent.cli("chrome")  # Open Chrome blocking for linux
        agent.cli("echo Hello World")  # Prints "Hello World"
        agent.cli("python --version")  # Displays Python version

        # Linux
        agent.cli("nohub chrome")  # Open Chrome non-blocking for linux
        agent.cli("chrome")  # Open Chrome blocking for linux
        agent.cli("echo Hello World")  # Prints "Hello World"
        agent.cli("python --version")  # Displays Python version

    ```

